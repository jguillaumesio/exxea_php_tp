FROM mysql:latest
ARG DB_DATABASE
ARG DB_USERNAME
ARG DB_PASSWORD
ARG DB_ROOT_PASSWORD

ENV MYSQL_ROOT_PASSWORD=${DB_ROOT_PASSWORD}
ENV MYSQL_DATABASE=${DB_DATABASE}
ENV MYSQL_USER=${DB_USERNAME}
ENV MYSQL_PASSWORD=${DB_PASSWORD}

COPY ./init.sql /docker-entrypoint-initdb.d/
COPY ./my.cnf /etc/mysql/conf.d/
CMD ["mysqld"]

